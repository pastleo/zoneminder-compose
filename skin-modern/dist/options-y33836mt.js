import"/skins/modern/dist/main-3sctwwy9.js";function m(t){let n=t.form;if(!n)return;let o=n.querySelector('[name="deleteBtn"]');if(!o)return;let e=n.querySelectorAll(`input[type="checkbox"][name="${t.name}"]:not(:disabled)`),a=Array.from(e).some((d)=>d.checked);o.disabled=!a}function s(){document.querySelectorAll('input[type="checkbox"][data-on-click-this="configureDeleteButton"]').forEach((n)=>{n.addEventListener("change",()=>m(n))})}function c(){let t=document.getElementById("serversData");if(!t)return{};try{return JSON.parse(t.textContent||"{}")}catch{return{}}}function r(t){let n=document.getElementById("serverModal");if(!n)return;let e=c()[t],a=document.getElementById("serverModalTitle");if(a)a.textContent=e?`Server - ${e.Name}`:"New Server";document.getElementById("serverModalId").value=t.toString(),document.getElementById("serverName").value=e?.Name||"",document.getElementById("serverProtocol").value=e?.Protocol||"",document.getElementById("serverHostname").value=e?.Hostname||"",document.getElementById("serverPort").value=e?.Port?.toString()||"",document.getElementById("serverPathToIndex").value=e?.PathToIndex||"",document.getElementById("serverPathToZMS").value=e?.PathToZMS||"",document.getElementById("serverPathToApi").value=e?.PathToApi||"",document.getElementById("serverZmstats").checked=e?.zmstats||!1,document.getElementById("serverZmaudit").checked=e?.zmaudit||!1,document.getElementById("serverZmtrigger").checked=e?.zmtrigger||!1,document.getElementById("serverZmeventnotification").checked=e?.zmeventnotification||!1,n.showModal()}function u(){document.querySelectorAll(".serverCol").forEach((n)=>{n.addEventListener("click",(o)=>{o.preventDefault();let e=parseInt(n.dataset.sid||"0",10);r(e)})});let t=document.getElementById("NewServerBtn");if(t)t.addEventListener("click",()=>{r(0)})}function i(){let t=document.getElementById("storageData");if(!t)return{};try{return JSON.parse(t.textContent||"{}")}catch{return{}}}function l(t){let n=document.getElementById("storageModal");if(!n)return;let e=i()[t],a=document.getElementById("storageModalTitle");if(a)a.textContent=e?`Storage - ${e.Name}`:"New Storage";document.getElementById("storageModalId").value=t.toString(),document.getElementById("storageName").value=e?.Name||"",document.getElementById("storagePath").value=e?.Path||"",document.getElementById("storageUrl").value=e?.Url||"",document.getElementById("storageServerId").value=e?.ServerId?.toString()||"",document.getElementById("storageType").value=e?.Type||"local",document.getElementById("storageScheme").value=e?.Scheme||"Deep",document.getElementById("storageDoDelete").checked=e?.DoDelete??!0,document.getElementById("storageEnabled").checked=e?.Enabled??!0,n.showModal()}function g(){document.querySelectorAll(".storageCol").forEach((n)=>{n.addEventListener("click",(o)=>{o.preventDefault();let e=parseInt(n.dataset.sid||"0",10);l(e)})});let t=document.getElementById("NewStorageBtn");if(t)t.addEventListener("click",()=>{l(0)})}function E(){document.querySelectorAll("[data-close-modal]").forEach((t)=>{t.addEventListener("click",()=>{let n=t.dataset.closeModal;if(n)document.getElementById(n)?.close()})})}function v(){s(),u(),g(),E()}export{v as init};
